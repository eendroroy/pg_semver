LOAD 'vercomp';
SELECT VERSION_BUMP('1.1.1', 0);
 version_bump 
--------------
 2.1.1
(1 row)

SELECT VERSION_BUMP('1.1.1', 1);
 version_bump 
--------------
 1.2.1
(1 row)

SELECT VERSION_BUMP('1.1.1', 2);
 version_bump 
--------------
 1.1.2
(1 row)

SELECT VERSION_BUMP('1.0.0-alpha1', 0);
 version_bump 
--------------
 2-alpha1
(1 row)

SELECT VERSION_BUMP('1.0.0-alpha1', 1);
 version_bump 
--------------
 1.1-alpha1
(1 row)

SELECT VERSION_BUMP('1.0.0-alpha1', 2);
 version_bump 
--------------
 1.1-alpha1
(1 row)

SELECT VERSION_BUMP('1.0.0-rc1*', 1);
ERROR:  Invalid Version '1.0.0-rc1*'.
LINE 1: SELECT VERSION_BUMP('1.0.0-rc1*', 1);
                            ^
DETAIL:  Version '1.0.0-rc1*' contains invalid character.
HINT:  Did you mean '1.0.0-rc1'?
SELECT VERSION_BUMP('1.0.0-rc@1', 1);
ERROR:  Invalid Version '1.0.0-rc@1'.
LINE 1: SELECT VERSION_BUMP('1.0.0-rc@1', 1);
                            ^
DETAIL:  Version '1.0.0-rc@1' contains invalid character.
HINT:  Did you mean '1.0.0-rc1'?
SELECT VERSION_BUMP('1.0.0-rc#1', 1);
ERROR:  Invalid Version '1.0.0-rc#1'.
LINE 1: SELECT VERSION_BUMP('1.0.0-rc#1', 1);
                            ^
DETAIL:  Version '1.0.0-rc#1' contains invalid character.
HINT:  Did you mean '1.0.0-rc1'?
